<div class="category-card">
  <div class="card-header">
    <div class="header-content">
      <div class="header-text">
        <h4 class="card-title">
          <i class="material-icons">payment</i>
          Chiqim Kategoriyalari
        </h4>
        <p class="card-subtitle">Chiqim uchun kategoriyalar ro'yxati</p>
      </div>
      <button mat-raised-button color="accent" (click)="addExpemseCat()" class="add-category-btn">
        <mat-icon>add</mat-icon>
        Qo'shish
      </button>
    </div>
  </div>

  <div class="card-body">
    <!-- Loading State -->
    <div class="loading-state" *ngIf="!expenseCats || expenseCats.length === 0 && !errorMessage">
      <mat-icon>inbox</mat-icon>
      <p>Kategoriyalar mavjud emas</p>
    </div>

    <!-- Error State -->
    <div class="error-state" *ngIf="errorMessage">
      <mat-icon color="warn">error_outline</mat-icon>
      <p>{{ errorMessage }}</p>
    </div>

    <!-- Categories Table -->
    <div class="table-wrapper" *ngIf="expenseCats && expenseCats.length > 0 && !errorMessage">
      <table class="categories-table">
        <thead>
          <tr>
            <th class="col-number">â„–</th>
            <th class="col-name">Kategoriya Nomi</th>
            <th class="col-actions">Amallar</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let row of expenseCats; let i = index">
            <td class="col-number">{{ i + 1 }}</td>
            <td class="col-name">
              <span class="category-name">{{ row.name }}</span>
            </td>
            <td class="col-actions">
              <button mat-icon-button color="primary" (click)="updateCat(row.id, row.name)" matTooltip="Tahrirlash">
                <mat-icon>edit</mat-icon>
              </button>
              <button mat-icon-button color="warn" (click)="deleteInCat(row.id, row.name)" matTooltip="O'chirish">
                <mat-icon>delete</mat-icon>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>